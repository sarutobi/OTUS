# Настройка autovacuum с учетом оптимальной производительности

## Цель:
- запустить нагрузочный тест pgbench с профилем нагрузки DWH

- настроить параметры autovacuum для достижения максимального уровня устойчивой производительности

## Выполнение:

- создать GCE инстанс типа e2-medium и standard disk 10GB

> Создана ВМ postgres-otus4

- установить на него PostgreSQL 13 с дефолтными настройками

> Установлена postgresql 12

- применить параметры настройки PostgreSQL из прикрепленного к материалам занятия файла

> параметры настроек применены в postgresql.conf

- выполнить pgbench -i postgres

> выполнено, созданы 4 таблицы

- запустить pgbench -c8 -P 60 -T 3600 -U postgres postgres

    pgbench -c8 -P 60 -T 3600 -U postgres postgres > pg_bench_base_log 2>&1

- дать отработать до конца

- зафиксировать среднее значение tps в последней ⅙ части работы

> 543.32

- а дальше настроить autovacuum максимально эффективно, так чтобы получить максимально ровное значение tps на горизонте часа

> Выполнено, среднее значение на последних 10 минутах часа 481.58
